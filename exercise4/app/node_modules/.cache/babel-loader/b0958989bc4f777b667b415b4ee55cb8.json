{"ast":null,"code":"var _jsxFileName = \"/Users/stephenhalligan/Documents/GitHub/WebDevFrameworks/exercise4/app/src/App.js\";\nimport React from 'react';\nimport SearchView from './components/SearchView';\nimport data from './data.json';\nimport AdminView from './components/AdminView';\nimport axios from 'axios';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onSearchFieldChange = event => {\n      console.log('Keyboard event');\n      console.log(event.target.value);\n      this.setState({\n        productSearchString: event.target.value\n      });\n    };\n\n    this.addNewItem = (name, author, price) => {\n      let newItems = [...this.state.items];\n      newItems.push({\n        id: newItems.length + 1,\n        name: name,\n        author: author,\n        price: price\n      });\n      this.setState({\n        items: newItems\n      });\n    };\n\n    this.deleteItem = itemId => this.setState({\n      items: this.state.items.filter(item => item.id !== itemId)\n    });\n\n    this.state = {\n      items: data.items,\n      productSearchString: \"\",\n      adminModeActive: false\n    };\n    console.log(\"constructor\");\n  }\n\n  componentDidMount() {\n    console.log(\"Mounted\");\n    axios.get('http://localhost:4000/products').then(response => {\n      console.log(response);\n      this.setState({\n        items: response.data.items\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    console.log(\"render\");\n    let output = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, \"Search \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.onSearchFieldChange,\n      value: this.state.productSearchString,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 18\n      }\n    })), /*#__PURE__*/React.createElement(SearchView, {\n      items: this.state.items.filter(item => item.name.includes(this.state.productSearchString)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.setState({\n        adminModeActive: !this.state.adminModeActive\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, \"Admin mode\"));\n\n    if (this.state.adminModeActive) {\n      output = /*#__PURE__*/React.createElement(AdminView, {\n        disableAdminMode: () => this.setState({\n          adminModeActive: false\n        }),\n        addNewItem: this.addNewItem,\n        items: this.state.items,\n        deleteItem: this.deleteItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 16\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, output);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/stephenhalligan/Documents/GitHub/WebDevFrameworks/exercise4/app/src/App.js"],"names":["React","SearchView","data","AdminView","axios","App","Component","constructor","props","onSearchFieldChange","event","console","log","target","value","setState","productSearchString","addNewItem","name","author","price","newItems","state","items","push","id","length","deleteItem","itemId","filter","item","adminModeActive","componentDidMount","get","then","response","catch","err","render","output","includes"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SearchView from './components/SearchView';\nimport data from './data.json'\nimport AdminView from './components/AdminView';\nimport axios from 'axios';\n\nclass App extends React.Component {\n  constructor(props)\n  {\n    super(props);\n    this.state = {\n      items: data.items,\n      productSearchString: \"\",\n      adminModeActive: false,\n    }\n    console.log(\"constructor\")\n  }\n\n  componentDidMount() {\n    console.log(\"Mounted\")\n    axios.get('http://localhost:4000/products')\n      .then((response) => {\n        console.log(response);\n        this.setState({items: response.data.items })\n      })\n      .catch(err => console.log(err));\n  }\n\n\n  onSearchFieldChange = (event) => {\n\n    console.log('Keyboard event');\n    console.log(event.target.value);\n    this.setState({ productSearchString: event.target.value });\n  }\n\n  addNewItem = (name, author, price) => {\n    let newItems = [...this.state.items];\n    newItems.push({\n      id: newItems.length + 1,\n      name: name,\n      author: author,\n      price: price\n    });\n\n    this.setState({\n      items: newItems\n    });\n  }\n\n  deleteItem = itemId => this.setState({items: this.state.items.filter(item => item.id !== itemId)})\n\n  render()\n  {\n    console.log(\"render\");\n    let output =\n      <>\n        <div>\n          Search <input type=\"text\" onChange={ this.onSearchFieldChange } value={ this.state.productSearchString }/>\n        </div>\n        <SearchView\n          items={ this.state.items.filter((item) => item.name.includes(this.state.productSearchString)) }\n          />\n        <button onClick={() => this.setState({adminModeActive: !this.state.adminModeActive})}>Admin mode</button>\n      </>\n\n\n    if(this.state.adminModeActive) {\n      output = <AdminView\n                  disableAdminMode={() => this.setState({adminModeActive: false}) }\n                  addNewItem={ this.addNewItem }\n                  items={ this.state.items }\n                  deleteItem={ this.deleteItem }\n               />;\n    }\n\n\n\n    return (\n      <>\n        { output }\n      </>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}